{"ast":null,"code":"var _jsxFileName = \"/home/tales/Documents/GITHUB-PORTFOLIO/portfolio-10/notas/frontend-tasks/src/pages/Auth/LoginRegister.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport * as S from \"./styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LoginRegister = () => {\n  _s();\n  const [aba, setAba] = useState(\"login\");\n  const [form, setForm] = useState({\n    email: \"\",\n    password: \"\",\n    name: \"\",\n    surname: \"\",\n    city: \"\",\n    // novo\n    timezone: \"UTC\" // opcional, valor padrão\n  });\n\n  const navigate = useNavigate();\n  const aoMudar = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const aoEnviar = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      if (aba === \"cadastro\") {\n        await axios.post(\"http://localhost:4000/Users\", {\n          email: form.email,\n          password: form.password,\n          name: form.name,\n          surname: form.surname,\n          city: form.city,\n          timezone: form.timezone || \"UTC\"\n        });\n        alert(\"Usuário cadastrado!\");\n        setAba(\"login\");\n      } else {\n        const res = await axios.post(\"http://localhost:4000/login\", {\n          email: form.email,\n          password: form.password\n        });\n        localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n        navigate(\"/tarefas\");\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"Erro ao processar solicitação\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(S.Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(S.Tab, {\n        ativa: aba === \"login\",\n        onClick: () => setAba(\"login\"),\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.Tab, {\n        ativa: aba === \"cadastro\",\n        onClick: () => setAba(\"cadastro\"),\n        children: \"Cadastro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(S.Formulario, {\n      onSubmit: aoEnviar,\n      children: [aba === \"cadastro\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(S.Campo, {\n          name: \"name\",\n          placeholder: \"Nome\",\n          value: form.name,\n          onChange: aoMudar,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(S.Campo, {\n          name: \"surname\",\n          placeholder: \"Sobrenome\",\n          value: form.surname,\n          onChange: aoMudar,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(S.Campo, {\n          name: \"city\",\n          placeholder: \"Cidade\",\n          value: form.city,\n          onChange: aoMudar,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(S.Campo, {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        value: form.email,\n        onChange: aoMudar,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.Campo, {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Senha\",\n        value: form.password,\n        onChange: aoMudar,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(S.Botao, {\n        type: \"submit\",\n        disabled: loading,\n        children: loading ? \"Carregando...\" : aba === \"login\" ? \"Entrar\" : \"Cadastrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginRegister, \"ntqqB96ur/pWrws26s8slOVWKVc=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginRegister;\nexport default LoginRegister;\nfunction setLoading(arg0) {\n  throw new Error(\"Function not implemented.\");\n}\nvar _c;\n$RefreshReg$(_c, \"LoginRegister\");","map":{"version":3,"names":["React","useState","useNavigate","axios","S","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginRegister","_s","aba","setAba","form","setForm","email","password","name","surname","city","timezone","navigate","aoMudar","e","target","value","aoEnviar","preventDefault","setLoading","post","alert","res","localStorage","setItem","JSON","stringify","data","user","error","_error$response","_error$response$data","response","Container","children","Tab","ativa","onClick","fileName","_jsxFileName","lineNumber","columnNumber","Formulario","onSubmit","Campo","placeholder","onChange","required","type","Botao","disabled","loading","_c","arg0","Error","$RefreshReg$"],"sources":["/home/tales/Documents/GITHUB-PORTFOLIO/portfolio-10/notas/frontend-tasks/src/pages/Auth/LoginRegister.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport * as S from \"./styles\";\n\nconst LoginRegister = () => {\n  const [aba, setAba] = useState<\"login\" | \"cadastro\">(\"login\");\n  const [form, setForm] = useState({\n    email: \"\",\n    password: \"\",\n    name: \"\",\n    surname: \"\",\n    city: \"\", // novo\n    timezone: \"UTC\", // opcional, valor padrão\n  });\n\n  const navigate = useNavigate();\n\n  const aoMudar = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\nconst aoEnviar = async (e: React.FormEvent) => {\n  e.preventDefault();\n  setLoading(true);\n  try {\n    if (aba === \"cadastro\") {\n      await axios.post(\"http://localhost:4000/Users\", {\n        email: form.email,\n        password: form.password,\n        name: form.name,\n        surname: form.surname,\n        city: form.city,\n        timezone: form.timezone || \"UTC\",\n      });\n      alert(\"Usuário cadastrado!\");\n      setAba(\"login\");\n    } else {\n      const res = await axios.post(\"http://localhost:4000/login\", {\n        email: form.email,\n        password: form.password,\n      });\n      localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n      navigate(\"/tarefas\");\n    }\n  } catch (error: any) {\n    alert(error.response?.data?.error || \"Erro ao processar solicitação\");\n  } finally {\n    setLoading(false);\n  }\n};\n\n  return (\n    <S.Container>\n      <div>\n        <S.Tab ativa={aba === \"login\"} onClick={() => setAba(\"login\")}>\n          Login\n        </S.Tab>\n        <S.Tab ativa={aba === \"cadastro\"} onClick={() => setAba(\"cadastro\")}>\n          Cadastro\n        </S.Tab>\n      </div>\n\n      <S.Formulario onSubmit={aoEnviar}>\n        {aba === \"cadastro\" && (\n          <>\n            <S.Campo\n              name=\"name\"\n              placeholder=\"Nome\"\n              value={form.name}\n              onChange={aoMudar}\n              required\n            />\n            <S.Campo\n              name=\"surname\"\n              placeholder=\"Sobrenome\"\n              value={form.surname}\n              onChange={aoMudar}\n              required\n            />\n            <S.Campo\n              name=\"city\"\n              placeholder=\"Cidade\"\n              value={form.city}\n              onChange={aoMudar}\n              required\n            />\n          </>\n        )}\n\n        <S.Campo\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          value={form.email}\n          onChange={aoMudar}\n          required\n        />\n        <S.Campo\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Senha\"\n          value={form.password}\n          onChange={aoMudar}\n          required\n        />\n        <S.Botao type=\"submit\" disabled={loading}>\n  {loading ? \"Carregando...\" : aba === \"login\" ? \"Entrar\" : \"Cadastrar\"}\n</S.Botao>\n      </S.Formulario>\n    </S.Container>\n  );\n};\n\nexport default LoginRegister;\nfunction setLoading(arg0: boolean) {\n    throw new Error(\"Function not implemented.\");\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}